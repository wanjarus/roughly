{"version":3,"sources":["jquery.roughly.js"],"names":["bind","fn","me","apply","arguments","$","Roughly","element","options","date","ref","ref1","ref2","ref3","ref4","ref5","ref6","today","this","updateCounter","startDate","data","startCount","waitSeconds","increaseBy","decimals","prefix","postfix","parseFloat","removeCommas","Math","round","Date","getTime","setCounter","setInterval","prototype","text","addCommas","toFixed","num","toString","replace","roughly","defaults","settings","extend","each","jQuery"],"mappings":";;;;;AAMA,GAAIA,MAAO,SAASC,EAAIC,GAAK,MAAO,YAAY,MAAOD,GAAGE,MAAMD,EAAIE,cAEpE,SAAUC,GACR,GAAIC,EA0DJ,OAzDAA,GAAU,WACR,QAASA,GAAQC,EAASC,GACxB,GAAIC,GAAMC,EAAKC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,CACnDC,MAAKX,QAAUA,EACfW,KAAKC,cAAgBnB,KAAKkB,KAAKC,cAAeD,MAC9CA,KAAKE,UAAuD,OAA1CV,EAAMQ,KAAKX,QAAQc,KAAK,eAAyBX,EAAMF,EAAQY,UACjFF,KAAKI,WAA0D,OAA5CX,EAAOO,KAAKX,QAAQc,KAAK,gBAA0BV,EAAOH,EAAQc,WACrFJ,KAAKK,YAA4D,OAA7CX,EAAOM,KAAKX,QAAQc,KAAK,iBAA2BT,EAAOJ,EAAQe,YACvFL,KAAKM,WAA0D,OAA5CX,EAAOK,KAAKX,QAAQc,KAAK,gBAA0BR,EAAOL,EAAQgB,WACrFN,KAAKO,SAAqD,OAAzCX,EAAOI,KAAKX,QAAQc,KAAK,aAAuBP,EAAON,EAAQiB,SAChFP,KAAKQ,OAAiD,OAAvCX,EAAOG,KAAKX,QAAQc,KAAK,WAAqBN,EAAOP,EAAQkB,OAC5ER,KAAKS,QAAmD,OAAxCX,EAAOE,KAAKX,QAAQc,KAAK,YAAsBL,EAAOR,EAAQmB,QAC9ET,KAAKI,WAAaM,WAAWV,KAAKW,aAAaX,KAAKI,aACpDJ,KAAKK,YAAcK,WAAWV,KAAKW,aAAaX,KAAKK,cACrDL,KAAKM,WAAaI,WAAWV,KAAKW,aAAaX,KAAKM,aACpDN,KAAKO,SAAWG,WAAWV,KAAKW,aAAaX,KAAKO,WAClDhB,EAAOqB,KAAKC,MAAM,GAAIC,MAAKd,KAAKE,WAAWa,UAAY,KACvDhB,EAAQa,KAAKC,OAAM,GAAIC,OAAOC,UAAY,KAC1Cf,KAAKI,YAAcQ,KAAKC,OAAOd,EAAQR,GAAQS,KAAKK,aACpDL,KAAKgB,aACLC,YAAYjB,KAAKC,cAAkC,IAAnBD,KAAKK,aAoBvC,MAjBAjB,GAAQ8B,UAAUjB,cAAgB,WAEhC,MADAD,MAAKI,YAAcJ,KAAKM,WACjBN,KAAKgB,cAGd5B,EAAQ8B,UAAUF,WAAa,WAC7B,MAAOhB,MAAKX,QAAQ8B,KAAKnB,KAAKQ,OAASR,KAAKoB,UAAUpB,KAAKI,WAAWiB,QAAQrB,KAAKO,WAAaP,KAAKS,UAGvGrB,EAAQ8B,UAAUE,UAAY,SAASE,GACrC,MAAOA,GAAIC,WAAWC,QAAQ,2BAA4B,QAG5DpC,EAAQ8B,UAAUP,aAAe,SAASW,GACxC,MAAOA,GAAIC,WAAWC,QAAQ,KAAM,KAG/BpC,KAGTD,EAAEJ,GAAG0C,QAAU,SAASnC,GACtB,GAAIoC,GAAUC,CAWd,OAVAD,IACExB,UAAW,kBACXE,WAAY,EACZC,YAAa,EACbC,WAAY,EACZC,SAAU,EACVC,OAAQ,GACRC,QAAS,IAEXkB,EAAWxC,EAAEyC,UAAWF,EAAUvC,EAAEJ,GAAG0C,QAAQC,SAAUpC,GAClD,GAAIF,GAAQD,EAAEa,MAAO2B,IAEvBxC,EAAE,WACP,MAAOA,GAAE,YAAY0C,KAAK,WACxB,MAAO1C,GAAEa,MAAMyB,eAGlBzB,KAAK8B","file":"jquery.roughly.js","sourcesContent":["\n/*!\n * Roughly\n * https://github.com/dahjson/roughly\n * Copyright (c) Daniel Johnson\n */\nvar bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n(function($) {\n  var Roughly;\n  Roughly = (function() {\n    function Roughly(element, options) {\n      var date, ref, ref1, ref2, ref3, ref4, ref5, ref6, today;\n      this.element = element;\n      this.updateCounter = bind(this.updateCounter, this);\n      this.startDate = (ref = this.element.data('start-date')) != null ? ref : options.startDate;\n      this.startCount = (ref1 = this.element.data('start-count')) != null ? ref1 : options.startCount;\n      this.waitSeconds = (ref2 = this.element.data('wait-seconds')) != null ? ref2 : options.waitSeconds;\n      this.increaseBy = (ref3 = this.element.data('increase-by')) != null ? ref3 : options.increaseBy;\n      this.decimals = (ref4 = this.element.data('decimals')) != null ? ref4 : options.decimals;\n      this.prefix = (ref5 = this.element.data('prefix')) != null ? ref5 : options.prefix;\n      this.postfix = (ref6 = this.element.data('postfix')) != null ? ref6 : options.postfix;\n      this.startCount = parseFloat(this.removeCommas(this.startCount));\n      this.waitSeconds = parseFloat(this.removeCommas(this.waitSeconds));\n      this.increaseBy = parseFloat(this.removeCommas(this.increaseBy));\n      this.decimals = parseFloat(this.removeCommas(this.decimals));\n      date = Math.round(new Date(this.startDate).getTime() / 1000);\n      today = Math.round(new Date().getTime() / 1000);\n      this.startCount += Math.round((today - date) / this.waitSeconds);\n      this.setCounter();\n      setInterval(this.updateCounter, this.waitSeconds * 1000);\n    }\n\n    Roughly.prototype.updateCounter = function() {\n      this.startCount += this.increaseBy;\n      return this.setCounter();\n    };\n\n    Roughly.prototype.setCounter = function() {\n      return this.element.text(this.prefix + this.addCommas(this.startCount.toFixed(this.decimals)) + this.postfix);\n    };\n\n    Roughly.prototype.addCommas = function(num) {\n      return num.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n    };\n\n    Roughly.prototype.removeCommas = function(num) {\n      return num.toString().replace(/,/g, '');\n    };\n\n    return Roughly;\n\n  })();\n  $.fn.roughly = function(options) {\n    var defaults, settings;\n    defaults = {\n      startDate: 'January 1, 1970',\n      startCount: 0,\n      waitSeconds: 1,\n      increaseBy: 1,\n      decimals: 0,\n      prefix: '',\n      postfix: ''\n    };\n    settings = $.extend({}, defaults, $.fn.roughly.defaults, options);\n    return new Roughly($(this), settings);\n  };\n  return $(function() {\n    return $('.roughly').each(function() {\n      return $(this).roughly();\n    });\n  });\n})(this.jQuery);\n"],"sourceRoot":"/source/"}